<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2014 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php
/**
 * Language switcher template
 *
 * @see Mage_Page_Block_Switch
 */
?>
<?php if(count($this->getStores())>1): ?>
<div class="form-language">
	<?php if(Mage::getStoreConfig('mgs_theme/general/header') == 'header' || Mage::getStoreConfig('mgs_theme/general/header') == 'header2' || Mage::getStoreConfig('mgs_theme/general/header') == 'header5'): ?>
		<?php $count = 0; ?>
		<?php foreach ($this->getStores() as $_lang): ?>
			<?php $count++; ?>
		<?php endforeach; ?>
		<?php if($count < 5): ?>
			<ul class="hidden-sm hidden-xs">
				<?php foreach ($this->getStores() as $_lang): ?>
					<li <?php if($_lang->getId() == $this->getCurrentStoreId()): ?> class="active" <?php endif; ?>><a href="<?php echo $_lang->getCurrentUrl() ?>"><?php echo $this->escapeHtml($_lang->getCode()) ?></a></li>
				<?php endforeach; ?>
			</ul>
			<div class="dropdown-languages hidden-md hidden-lg">
				<button class="btn btn-primary btn-xs" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" type="button">
					<i class="fa fa-angle-down"></i>
					<?php foreach ($this->getStores() as $_lang): ?>
						<?php if($_lang->getId() == $this->getCurrentStoreId()): ?>
							<span><?php echo $this->escapeHtml($_lang->getName()) ?></span>
						<?php endif;?>
					<?php endforeach; ?>
				</button>
				<ul class="dropdown-menu" role="menu">
					<?php foreach ($this->getStores() as $_lang): ?>
						<li role="presentation"><a role="menuitem" tabindex="-1" href="<?php echo $_lang->getCurrentUrl() ?>"><?php echo $this->escapeHtml($_lang->getName()) ?></a></li>
					<?php endforeach; ?>
				</ul>
			</div>			
		<?php else: ?>
			<div class="greater-than-five">
				<button class="dropdown-toggle" type="button" data-toggle="dropdown">
					<?php foreach ($this->getStores() as $_lang): ?>
						<?php if($_lang->getId() == $this->getCurrentStoreId()): ?>
							<span><?php echo $this->escapeHtml($_lang->getCode()) ?></span>
							<i class="fa fa-angle-down"></i>
						<?php endif;?>
					<?php endforeach; ?>
				</button>
				<ul class="dropdown-menu" role="menu">
					<?php foreach ($this->getStores() as $_lang): ?>
						<li role="presentation"><a role="menuitem" tabindex="-1" href="<?php echo $_lang->getCurrentUrl() ?>"><?php echo $this->escapeHtml($_lang->getName()) ?></a></li>
					<?php endforeach; ?>
				</ul>
			</div>
		<?php endif ?>
	<?php else: ?>
		<button class="dropdown-toggle" type="button" data-toggle="dropdown">
			<?php foreach ($this->getStores() as $_lang): ?>
				<?php if($_lang->getId() == $this->getCurrentStoreId()): ?>
					<?php if(Mage::getStoreConfig('mgs_theme/general/header') == 'header7'): ?>
						<span><?php echo $this->escapeHtml($_lang->getCode()) ?></span>
					<?php else: ?>
						<span class="text"><?php echo $this->__('Languages: '); ?></span><span class="color-custom"><?php echo $this->escapeHtml($_lang->getName()) ?></span>
						<i class="fa fa-angle-down"></i>
					<?php endif ?>
				<?php endif;?>
			<?php endforeach; ?>
		</button>
		<ul class="dropdown-menu" role="menu">
			<?php foreach ($this->getStores() as $_lang): ?>
				<li role="presentation"><a role="menuitem" tabindex="-1" href="<?php echo $_lang->getCurrentUrl() ?>"><?php echo $this->escapeHtml($_lang->getName()) ?></a></li>
			<?php endforeach; ?>
		</ul>
	<?php endif; ?>
</div>
<?php endif; ?>
